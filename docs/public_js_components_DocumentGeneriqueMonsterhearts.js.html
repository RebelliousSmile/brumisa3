<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: public/js/components/DocumentGeneriqueMonsterhearts.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: public/js/components/DocumentGeneriqueMonsterhearts.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Composant Alpine.js pour la crÃ©ation de documents gÃ©nÃ©riques Monsterhearts
 */
window.AlpineComponents = window.AlpineComponents || {};

window.AlpineComponents.documentGeneriqueMonsterhearts = function() {
    return {
        // Ã‰tat du formulaire
        formData: {
            titre: '',
            introduction: '',
            typeDocument: 'AIDE DE JEU',
            numeroPage: 1,
            piedDePage: 'Monsterhearts â€¢ Document â€¢ brumisater',
            sections: []
        },
        
        // Ã‰tat UI
        enTraitement: false,
        
        // Token anonyme pour utilisateurs non connectÃ©s
        anonymousToken: null,
        tokenExpiration: null,
        remainingUsage: 0,
        
        // Droits utilisateur (sera initialisÃ© via Alpine.store)
        get estPremium() {
            const utilisateur = Alpine.store('app')?.utilisateur;
            return utilisateur &amp;&amp; (
                utilisateur.type_compte === 'PREMIUM' || 
                utilisateur.role === 'ADMIN' || 
                utilisateur.role === 'MODERATEUR'
            );
        },
        
        // ID unique pour les sections
        sectionIdCounter: 0,
        
        // Initialisation
        async init() {
            // Ajouter une premiÃ¨re section par dÃ©faut
            this.ajouterSection();
            
            // RÃ©cupÃ©rer un token anonyme si l'utilisateur n'est pas connectÃ©
            await this.ensureAnonymousToken();
        },
        
        // VÃ©rifie si l'utilisateur est connectÃ©
        get estConnecte() {
            return Alpine.store('app')?.utilisateur != null;
        },
        
        // Assure qu'un token anonyme valide est disponible
        async ensureAnonymousToken() {
            if (this.estConnecte) {
                return; // Les utilisateurs connectÃ©s n'ont pas besoin de token anonyme
            }
            
            // VÃ©rifier si le token actuel est encore valide
            if (this.anonymousToken &amp;&amp; this.tokenExpiration &amp;&amp; Date.now() &lt; this.tokenExpiration) {
                return; // Token encore valide
            }
            
            try {
                // GÃ©nÃ©rer un fingerprint simple du navigateur
                const fingerprint = this.generateBrowserFingerprint();
                
                const response = await Alpine.store('app').requeteApi('/auth/token-anonyme', {
                    method: 'POST',
                    body: JSON.stringify({ fingerprint })
                });
                
                if (response.succes &amp;&amp; response.donnees) {
                    this.anonymousToken = response.donnees.token;
                    this.tokenExpiration = Date.now() + (response.donnees.expiresIn * 1000);
                    this.remainingUsage = response.donnees.limitations?.maxUsage || 0;
                    
                    console.log(`ðŸŽ« Token anonyme obtenu (${this.remainingUsage} utilisations restantes)`);
                } else {
                    throw new Error(response.message || 'Impossible d\'obtenir un token anonyme');
                }
            } catch (error) {
                console.error('Erreur lors de l\'obtention du token anonyme:', error);
                Alpine.store('app').ajouterMessage(
                    'Impossible de gÃ©nÃ©rer un accÃ¨s temporaire. Veuillez vous connecter.',
                    'erreur'
                );
            }
        },
        
        // GÃ©nÃ¨re un fingerprint simple du navigateur
        generateBrowserFingerprint() {
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            ctx.textBaseline = 'top';
            ctx.font = '14px Arial';
            ctx.fillText('Browser fingerprint', 2, 2);
            
            return btoa(JSON.stringify({
                userAgent: navigator.userAgent.substring(0, 100),
                language: navigator.language,
                platform: navigator.platform,
                screen: `${screen.width}x${screen.height}`,
                timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
                canvas: canvas.toDataURL().substring(0, 100)
            }));
        },
        
        // VÃ©rifie si le formulaire peut Ãªtre soumis
        get peutGenerer() {
            const formValid = this.formData.titre.trim() !== '' &amp;&amp; 
                             this.formData.sections.length > 0 &amp;&amp;
                             this.formData.sections.every(s => s.titre.trim() !== '');
            
            // Pour les utilisateurs anonymes, vÃ©rifier aussi le token
            if (!this.estConnecte) {
                return formValid &amp;&amp; this.anonymousToken &amp;&amp; this.remainingUsage > 0;
            }
            
            return formValid;
        },
        
        // Ajouter une nouvelle section
        ajouterSection() {
            this.formData.sections.push({
                id: ++this.sectionIdCounter,
                niveau: '1',
                titre: '',
                contenu: ''
            });
        },
        
        // Supprimer une section
        supprimerSection(index) {
            if (this.formData.sections.length > 1 || confirm('Voulez-vous vraiment supprimer la derniÃ¨re section ?')) {
                this.formData.sections.splice(index, 1);
            }
        },
        
        // Convertir le markdown en HTML simple
        renderMarkdown(text) {
            if (!text) return '';
            
            let html = text;
            
            // Ã‰chapper les caractÃ¨res HTML
            html = html.replace(/&amp;/g, '&amp;amp;')
                      .replace(/&lt;/g, '&amp;lt;')
                      .replace(/>/g, '&amp;gt;');
            
            // Gras
            html = html.replace(/\*\*(.+?)\*\*/g, '&lt;strong>$1&lt;/strong>');
            
            // Italique
            html = html.replace(/\*(.+?)\*/g, '&lt;em>$1&lt;/em>');
            
            // Listes Ã  puces
            html = html.replace(/^[\*\-]\s+(.+)$/gm, '&lt;li>$1&lt;/li>');
            html = html.replace(/(&lt;li>.*&lt;\/li>)/s, '&lt;ul>$1&lt;/ul>');
            
            // Listes numÃ©rotÃ©es
            html = html.replace(/^\d+\.\s+(.+)$/gm, '&lt;li>$1&lt;/li>');
            
            // Citations
            html = html.replace(/^>\s+(.+)$/gm, '&lt;blockquote>$1&lt;/blockquote>');
            
            // Paragraphes
            html = html.split('\n\n').map(p => p.trim() ? `&lt;p>${p}&lt;/p>` : '').join('');
            
            return html;
        },
        
        // Transformer les donnÃ©es pour l'API
        prepareDataForApi() {
            const sections = this.formData.sections.map(section => {
                const contenus = [];
                
                // Parser le contenu markdown (si il y en a)
                if (!section.contenu || section.contenu.trim() === '') {
                    // Section sans contenu (titre seul)
                    return {
                        niveau: parseInt(section.niveau),
                        titre: section.titre,
                        contenus: []
                    };
                }
                
                const lignes = section.contenu.split('\n');
                let contenuActuel = [];
                let typeCourant = 'paragraphe';
                
                lignes.forEach(ligne => {
                    // Listes Ã  puces
                    if (ligne.match(/^[\*\-]\s+/)) {
                        if (typeCourant !== 'liste') {
                            if (contenuActuel.length > 0) {
                                contenus.push({
                                    type: typeCourant,
                                    texte: contenuActuel.join('\n')
                                });
                            }
                            contenuActuel = [];
                            typeCourant = 'liste';
                        }
                        contenuActuel.push(ligne.replace(/^[\*\-]\s+/, ''));
                    }
                    // Listes numÃ©rotÃ©es
                    else if (ligne.match(/^\d+\.\s+/)) {
                        if (typeCourant !== 'liste-numerotee') {
                            if (contenuActuel.length > 0) {
                                contenus.push({
                                    type: typeCourant,
                                    texte: typeCourant === 'liste' ? undefined : contenuActuel.join('\n'),
                                    items: typeCourant === 'liste' ? contenuActuel : undefined
                                });
                            }
                            contenuActuel = [];
                            typeCourant = 'liste-numerotee';
                        }
                        contenuActuel.push(ligne.replace(/^\d+\.\s+/, ''));
                    }
                    // Citations
                    else if (ligne.match(/^>\s+/)) {
                        if (contenuActuel.length > 0) {
                            contenus.push({
                                type: typeCourant,
                                texte: typeCourant === 'liste' ? undefined : contenuActuel.join('\n'),
                                items: typeCourant.includes('liste') ? contenuActuel : undefined
                            });
                        }
                        contenus.push({
                            type: 'citation',
                            texte: ligne.replace(/^>\s+/, '')
                        });
                        contenuActuel = [];
                        typeCourant = 'paragraphe';
                    }
                    // Paragraphes
                    else {
                        if (typeCourant.includes('liste')) {
                            if (contenuActuel.length > 0) {
                                contenus.push({
                                    type: typeCourant,
                                    items: contenuActuel
                                });
                            }
                            contenuActuel = [];
                            typeCourant = 'paragraphe';
                        }
                        if (ligne.trim()) {
                            contenuActuel.push(ligne);
                        } else if (contenuActuel.length > 0) {
                            contenus.push({
                                type: 'paragraphe',
                                texte: contenuActuel.join(' ')
                            });
                            contenuActuel = [];
                        }
                    }
                });
                
                // Ajouter le dernier contenu
                if (contenuActuel.length > 0) {
                    if (typeCourant.includes('liste')) {
                        contenus.push({
                            type: typeCourant,
                            items: contenuActuel
                        });
                    } else {
                        contenus.push({
                            type: 'paragraphe',
                            texte: contenuActuel.join(' ')
                        });
                    }
                }
                
                return {
                    niveau: parseInt(section.niveau),
                    titre: section.titre,
                    contenus: contenus
                };
            });
            
            const donnees = {
                titre: this.formData.titre,
                introduction: this.formData.introduction,
                chapitre: this.formData.typeDocument.toUpperCase(),
                pageNumber: this.formData.numeroPage,
                sections: sections
            };
            
            // Ajouter le pied de page seulement si l'utilisateur est premium
            if (this.estPremium &amp;&amp; this.formData.piedDePage) {
                donnees.piedDePage = this.formData.piedDePage;
            }
            
            return donnees;
        },
        
        // GÃ©nÃ©rer le PDF
        async genererPdf() {
            if (!this.peutGenerer || this.enTraitement) return;
            
            // S'assurer qu'un token anonyme valide est disponible si nÃ©cessaire
            if (!this.estConnecte) {
                await this.ensureAnonymousToken();
                if (!this.anonymousToken) {
                    Alpine.store('app').ajouterMessage(
                        'Impossible d\'obtenir un accÃ¨s temporaire. Veuillez rÃ©essayer.',
                        'erreur'
                    );
                    return;
                }
            }
            
            this.enTraitement = true;
            
            try {
                const donnees = this.prepareDataForApi();
                
                // PrÃ©parer les headers selon le type d'utilisateur
                const headers = { 'Content-Type': 'application/json' };
                
                if (!this.estConnecte &amp;&amp; this.anonymousToken) {
                    headers['Authorization'] = `Bearer ${this.anonymousToken}`;
                }
                
                // Choisir la route selon l'Ã©tat de connexion
                const endpoint = this.estConnecte 
                    ? '/pdfs/document-generique/monsterhearts'
                    : '/pdfs/document-generique-anonyme/monsterhearts';
                
                const response = await Alpine.store('app').requeteApi(endpoint, {
                    method: 'POST',
                    headers,
                    body: JSON.stringify(donnees)
                });
                
                if (response.succes &amp;&amp; response.donnees) {
                    const pdfId = response.donnees.id;
                    
                    // DÃ©crÃ©menter le compteur d'usage pour les anonymes
                    if (!this.estConnecte) {
                        this.remainingUsage = Math.max(0, this.remainingUsage - 1);
                    }
                    
                    Alpine.store('app').ajouterMessage('GÃ©nÃ©ration PDF dÃ©marrÃ©e...', 'info');
                    
                    // Attendre la fin de gÃ©nÃ©ration et tÃ©lÃ©charger
                    this.attendreGenerationEtTelecharger(pdfId);
                    
                } else {
                    throw new Error(response.message || 'Erreur lors de la gÃ©nÃ©ration');
                }
            } catch (error) {
                console.error('Erreur gÃ©nÃ©ration PDF:', error);
                
                let errorMessage = 'Erreur lors de la gÃ©nÃ©ration du PDF : ' + error.message;
                
                // Messages spÃ©cialisÃ©s pour les erreurs de token
                if (error.message.includes('Token')) {
                    errorMessage = error.message + '. Veuillez recharger la page.';
                    this.anonymousToken = null; // Forcer un nouveau token au prochain essai
                }
                
                Alpine.store('app').ajouterMessage(errorMessage, 'erreur');
                this.enTraitement = false;
            }
        },

        // Attendre la gÃ©nÃ©ration et tÃ©lÃ©charger le PDF
        async attendreGenerationEtTelecharger(pdfId) {
            const checkInterval = 2000; // 2 secondes
            const maxAttempts = 30; // 1 minute max
            let attempts = 0;
            
            const checkStatus = async () => {
                try {
                    // PrÃ©parer l'URL et les headers selon le type d'utilisateur
                    let url = `/pdfs/${pdfId}/statut`;
                    const headers = {};
                    
                    if (!this.estConnecte &amp;&amp; this.anonymousToken) {
                        headers['Authorization'] = `Bearer ${this.anonymousToken}`;
                    }
                    
                    const response = await Alpine.store('app').requeteApi(url, {
                        method: 'GET',
                        headers: Object.keys(headers).length > 0 ? headers : undefined
                    });
                    
                    if (response.succes &amp;&amp; response.donnees) {
                        const statut = response.donnees.statut;
                        const progression = response.donnees.progression || 0;
                        
                        if (statut === 'TERMINE') {
                            // TÃ©lÃ©charger le PDF
                            window.open(`/api/pdfs/${pdfId}/telecharger`, '_blank');
                            
                            Alpine.store('app').ajouterMessage('PDF gÃ©nÃ©rÃ© avec succÃ¨s !', 'succes');
                            
                            // Optionnel : rÃ©initialiser le formulaire
                            if (confirm('PDF gÃ©nÃ©rÃ© ! Voulez-vous crÃ©er un nouveau document ?')) {
                                this.reinitialiser();
                            }
                            
                            this.enTraitement = false;
                            return;
                            
                        } else if (statut === 'ERREUR') {
                            throw new Error(response.donnees.erreur_message || 'Erreur lors de la gÃ©nÃ©ration');
                            
                        } else if (statut === 'EN_TRAITEMENT') {
                            Alpine.store('app').ajouterMessage(`GÃ©nÃ©ration en cours (${progression}%)...`, 'info');
                            
                            // Continuer Ã  vÃ©rifier
                            attempts++;
                            if (attempts &lt; maxAttempts) {
                                setTimeout(checkStatus, checkInterval);
                            } else {
                                throw new Error('Timeout lors de la gÃ©nÃ©ration');
                            }
                        } else {
                            // EN_ATTENTE, continuer Ã  vÃ©rifier
                            attempts++;
                            if (attempts &lt; maxAttempts) {
                                setTimeout(checkStatus, checkInterval);
                            } else {
                                throw new Error('Timeout lors de la gÃ©nÃ©ration');
                            }
                        }
                    }
                } catch (error) {
                    console.error('Erreur vÃ©rification statut PDF:', error);
                    Alpine.store('app').ajouterMessage(
                        'Erreur lors de la gÃ©nÃ©ration : ' + error.message,
                        'erreur'
                    );
                    this.enTraitement = false;
                }
            };
            
            // DÃ©marrer la vÃ©rification
            setTimeout(checkStatus, checkInterval);
        },
        
        // RÃ©initialiser le formulaire
        reinitialiser() {
            if (confirm('ÃŠtes-vous sÃ»r de vouloir rÃ©initialiser le formulaire ?')) {
                this.formData = {
                    titre: '',
                    introduction: '',
                    typeDocument: 'AIDE DE JEU',
                    numeroPage: 1,
                    piedDePage: 'Monsterhearts â€¢ Document â€¢ brumisater',
                    sections: []
                };
                this.sectionIdCounter = 0;
                this.ajouterSection();
            }
        },
        
        // Charger un exemple prÃ©dÃ©fini
        chargerExemple(type) {
            const exemples = {
                'plan-classe': {
                    titre: 'Instructions pour le Plan de Classe',
                    introduction: 'Le plan de classe est un outil visuel pour la MC permettant de suivre les relations sociales et la dynamique de groupe dans le lycÃ©e.',
                    typeDocument: 'PLAN DE CLASSE',
                    sections: [
                        {
                            niveau: '1',
                            titre: 'Comment remplir le plan',
                            contenu: 'Le plan de classe vous permet de visualiser rapidement les dynamiques sociales.\n\nVoici les Ã©tapes essentielles pour bien l\'utiliser.'
                        },
                        {
                            niveau: '2',
                            titre: 'Placer les personnages joueurs',
                            contenu: '* Commencez toujours par placer les PJ en premier\n* Notez leur nom, leur mue, et une note courte\n* Leur placement initial peut reflÃ©ter leurs relations'
                        },
                        {
                            niveau: '2',
                            titre: 'Ajouter les PNJ importants',
                            contenu: 'Placez les PNJ selon leur importance dans l\'histoire :\n\n1. Les crushes et intÃ©rÃªts romantiques\n2. Les rivaux et ennemis\n3. Les figures d\'autoritÃ©\n4. Les alliÃ©s potentiels'
                        }
                    ]
                },
                'aide-mc': {
                    titre: 'Aide-MÃ©moire pour la MC',
                    introduction: 'Les principes essentiels pour mener une partie de Monsterhearts mÃ©morable.',
                    typeDocument: 'AIDE MC',
                    sections: [
                        {
                            niveau: '1',
                            titre: 'Principes de la MC',
                            contenu: '* Rendre la vie des personnages intÃ©ressante\n* Dire ce que les rÃ¨gles exigent\n* Dire ce que l\'honnÃªtetÃ© exige\n* ÃŠtre fan des personnages'
                        },
                        {
                            niveau: '1',
                            titre: 'Actions de la MC',
                            contenu: '> Quand les joueurs vous regardent pour savoir ce qui se passe, faites une action de MC.\n\n- SÃ©parer les personnages\n- Mettre quelqu\'un dans une situation dÃ©licate\n- RÃ©vÃ©ler une vÃ©ritÃ© dÃ©sagrÃ©able'
                        }
                    ]
                },
                'regles-maison': {
                    titre: 'RÃ¨gles Maison - Notre Table',
                    introduction: 'Ces rÃ¨gles s\'ajoutent ou modifient les rÃ¨gles de base pour mieux correspondre au style de notre table.',
                    typeDocument: 'RÃˆGLES MAISON',
                    sections: [
                        {
                            niveau: '1',
                            titre: 'SÃ©curitÃ© Ã©motionnelle',
                            contenu: 'Nous utilisons les outils suivants :\n\n* Carte X pour arrÃªter une scÃ¨ne\n* Lignes et voiles dÃ©finis en dÃ©but de partie\n* Check-in rÃ©guliers entre les scÃ¨nes intenses'
                        },
                        {
                            niveau: '1',
                            titre: 'Modifications des rÃ¨gles',
                            contenu: '**Cordes** : Maximum 5 sur un mÃªme personnage\n\n**Conditions** : On peut en avoir maximum 4 en mÃªme temps\n\n**ExpÃ©rience** : +1 XP pour excellente interprÃ©tation dramatique'
                        }
                    ]
                }
            };
            
            const exemple = exemples[type];
            if (exemple) {
                // RÃ©initialiser d'abord
                this.formData = {
                    ...exemple,
                    numeroPage: 1,
                    piedDePage: 'Monsterhearts â€¢ Document â€¢ brumisater',
                    sections: []
                };
                
                // Ajouter les sections avec des IDs
                exemple.sections.forEach(section => {
                    this.formData.sections.push({
                        ...section,
                        id: ++this.sectionIdCounter
                    });
                });
                
                Alpine.store('app').ajouterMessage('Exemple chargÃ© !', 'succes');
            }
        }
    };
};</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Actualite.html">Actualite</a></li><li><a href="AdminController.html">AdminController</a></li><li><a href="AdminOracleService.html">AdminOracleService</a></li><li><a href="AnonymousTokenService.html">AnonymousTokenService</a></li><li><a href="AuthentificationController.html">AuthentificationController</a></li><li><a href="BaseController.html">BaseController</a></li><li><a href="BaseModel.html">BaseModel</a></li><li><a href="BasePdfKitService.html">BasePdfKitService</a></li><li><a href="BaseService.html">BaseService</a></li><li><a href="CacheService.html">CacheService</a></li><li><a href="CharacterSheetDocument.html">CharacterSheetDocument</a></li><li><a href="ClassPlanDocument.html">ClassPlanDocument</a></li><li><a href="DangerDocument.html">DangerDocument</a></li><li><a href="DemandeChangementEmail.html">DemandeChangementEmail</a></li><li><a href="Document.html">Document</a></li><li><a href="DocumentFactory.html">DocumentFactory</a></li><li><a href="DocumentModerationHistorique.html">DocumentModerationHistorique</a></li><li><a href="DocumentModerationService.html">DocumentModerationService</a></li><li><a href="DocumentSystemeJeu.html">DocumentSystemeJeu</a></li><li><a href="DocumentVote.html">DocumentVote</a></li><li><a href="DonationController.html">DonationController</a></li><li><a href="EmailService.html">EmailService</a></li><li><a href="EmailTemplate.html">EmailTemplate</a></li><li><a href="EngrenagesTheme.html">EngrenagesTheme</a></li><li><a href="GenericDocument.html">GenericDocument</a></li><li><a href="GroupDocument.html">GroupDocument</a></li><li><a href="HomeController.html">HomeController</a></li><li><a href="LoggingService.html">LoggingService</a></li><li><a href="MarkdownService.html">MarkdownService</a></li><li><a href="Metro2033Theme.html">Metro2033Theme</a></li><li><a href="MistEngineTheme.html">MistEngineTheme</a></li><li><a href="ModerationController.html">ModerationController</a></li><li><a href="MonsterheartsTheme.html">MonsterheartsTheme</a></li><li><a href="NavigationService.html">NavigationService</a></li><li><a href="Newsletter.html">Newsletter</a></li><li><a href="NewsletterService.html">NewsletterService</a></li><li><a href="Oracle.html">Oracle</a></li><li><a href="OracleController.html">OracleController</a></li><li><a href="OracleItem.html">OracleItem</a></li><li><a href="OracleService.html">OracleService</a></li><li><a href="OrganizationDocument.html">OrganizationDocument</a></li><li><a href="Pdf.html">Pdf</a></li><li><a href="PdfController.html">PdfController</a></li><li><a href="PdfKitService.html">PdfKitService</a></li><li><a href="PdfService.html">PdfService</a></li><li><a href="PerformanceMiddleware.html">PerformanceMiddleware</a></li><li><a href="PerformanceMonitoringService.html">PerformanceMonitoringService</a></li><li><a href="Personnage.html">Personnage</a></li><li><a href="PersonnageController.html">PersonnageController</a></li><li><a href="PersonnageService.html">PersonnageService</a></li><li><a href="ProductionApp.html">ProductionApp</a></li><li><a href="QueueService.html">QueueService</a></li><li><a href="RgpdConsentement.html">RgpdConsentement</a></li><li><a href="RgpdService.html">RgpdService</a></li><li><a href="SecurityService.html">SecurityService</a></li><li><a href="ShareService.html">ShareService</a></li><li><a href="SystemCardViewModel.html">SystemCardViewModel</a></li><li><a href="SystemMaintenanceService.html">SystemMaintenanceService</a></li><li><a href="SystemRightsService.html">SystemRightsService</a></li><li><a href="SystemService.html">SystemService</a></li><li><a href="SystemTheme.html">SystemTheme</a></li><li><a href="SystemThemeService.html">SystemThemeService</a></li><li><a href="SystemeJeu.html">SystemeJeu</a></li><li><a href="Temoignage.html">Temoignage</a></li><li><a href="TemoignageService.html">TemoignageService</a></li><li><a href="TemplateService.html">TemplateService</a></li><li><a href="ThemeService.html">ThemeService</a></li><li><a href="TownDocument.html">TownDocument</a></li><li><a href="Utilisateur.html">Utilisateur</a></li><li><a href="UtilisateurService.html">UtilisateurService</a></li><li><a href="VoteController.html">VoteController</a></li><li><a href="VoteService.html">VoteService</a></li><li><a href="ZombiologyTheme.html">ZombiologyTheme</a></li></ul><h3>Global</h3><ul><li><a href="global.html#AuthComponent">AuthComponent</a></li><li><a href="global.html#InscriptionComponent">InscriptionComponent</a></li><li><a href="global.html#Joi">Joi</a></li><li><a href="global.html#MotDePasseOublieComponent">MotDePasseOublieComponent</a></li><li><a href="global.html#ReinitialiserMotDePasseComponent">ReinitialiserMotDePasseComponent</a></li><li><a href="global.html#actionFlottante">actionFlottante</a></li><li><a href="global.html#ajouterTemoignage">ajouterTemoignage</a></li><li><a href="global.html#asyncHandler">asyncHandler</a></li><li><a href="global.html#auth">auth</a></li><li><a href="global.html#chargerDonneesAccueil">chargerDonneesAccueil</a></li><li><a href="global.html#chargerInfosDons">chargerInfosDons</a></li><li><a href="global.html#choixModeCreation">choixModeCreation</a></li><li><a href="global.html#choixTypeDocument">choixTypeDocument</a></li><li><a href="global.html#compareVersions">compareVersions</a></li><li><a href="global.html#createError">createError</a></li><li><a href="global.html#createMigrationsTable">createMigrationsTable</a></li><li><a href="global.html#createTables">createTables</a></li><li><a href="global.html#creationPersonnage">creationPersonnage</a></li><li><a href="global.html#database">database</a></li><li><a href="global.html#elevationRole">elevationRole</a></li><li><a href="global.html#executeMigration">executeMigration</a></li><li><a href="global.html#fichePersonnage">fichePersonnage</a></li><li><a href="global.html#formaterDate">formaterDate</a></li><li><a href="global.html#formaterNombre">formaterNombre</a></li><li><a href="global.html#formaterTailleFichier">formaterTailleFichier</a></li><li><a href="global.html#genererEtoiles">genererEtoiles</a></li><li><a href="global.html#getCurrentVersion">getCurrentVersion</a></li><li><a href="global.html#getErrorMessage">getErrorMessage</a></li><li><a href="global.html#getExecutedMigrations">getExecutedMigrations</a></li><li><a href="global.html#getMigrationStatus">getMigrationStatus</a></li><li><a href="global.html#getVersionsToMigrate">getVersionsToMigrate</a></li><li><a href="global.html#handleError">handleError</a></li><li><a href="global.html#handleNotFound">handleNotFound</a></li><li><a href="global.html#initializeDatabase">initializeDatabase</a></li><li><a href="global.html#inscrireNewsletter">inscrireNewsletter</a></li><li><a href="global.html#isDatabaseInitialized">isDatabaseInitialized</a></li><li><a href="global.html#listePersonnages">listePersonnages</a></li><li><a href="global.html#logger">logger</a></li><li><a href="global.html#markMigrationExecuted">markMigrationExecuted</a></li><li><a href="global.html#menuUtilisateur">menuUtilisateur</a></li><li><a href="global.html#mesDocuments">mesDocuments</a></li><li><a href="global.html#migrateDatabase">migrateDatabase</a></li><li><a href="global.html#migrateToLatest">migrateToLatest</a></li><li><a href="global.html#migrateToVersion">migrateToVersion</a></li><li><a href="global.html#migrations">migrations</a></li><li><a href="global.html#navigationFormulaire">navigationFormulaire</a></li><li><a href="global.html#naviguerVersSysteme">naviguerVersSysteme</a></li><li><a href="global.html#optionalAuth">optionalAuth</a></li><li><a href="global.html#ouvrirLienDon">ouvrirLienDon</a></li><li><a href="global.html#partageDocument">partageDocument</a></li><li><a href="global.html#partagerPdf">partagerPdf</a></li><li><a href="global.html#path">path</a></li><li><a href="global.html#previewHtml">previewHtml</a></li><li><a href="global.html#requireAdmin">requireAdmin</a></li><li><a href="global.html#requireAuth">requireAuth</a></li><li><a href="global.html#requirePremium">requirePremium</a></li><li><a href="global.html#resetDatabase">resetDatabase</a></li><li><a href="global.html#rollbackMigration">rollbackMigration</a></li><li><a href="global.html#schemas">schemas</a></li><li><a href="global.html#scrollVersSection">scrollVersSection</a></li><li><a href="global.html#selectionSysteme">selectionSysteme</a></li><li><a href="global.html#updateAppVersion">updateAppVersion</a></li><li><a href="global.html#validateFiles">validateFiles</a></li><li><a href="global.html#validateRequest">validateRequest</a></li><li><a href="global.html#verifierAuth">verifierAuth</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Fri Aug 08 2025 18:20:12 GMT+0200 (heure dâ€™Ã©tÃ© dâ€™Europe centrale)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
